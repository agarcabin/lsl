<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>微信红包 - 文件下载</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind自定义颜色 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        redpacket: {
                            light: '#ff4d4f',
                            DEFAULT: '#e63946',
                            dark: '#d62828',
                            gold: '#ffd700',
                            goldDark: '#ffb703'
                        }
                    },
                    fontFamily: {
                        sans: ['PingFang SC', 'Helvetica Neue', 'Arial', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .redpacket-shadow {
                box-shadow: 0 4px 15px rgba(214, 40, 40, 0.3);
            }
            .gold-gradient {
                background: linear-gradient(135deg, #ffd700 0%, #ffb703 100%);
            }
            .packet-top {
                transform-origin: bottom center;
            }
            .packet-open {
                transform: rotateX(-180deg);
            }
            .vibrate {
                animation: vibrate 0.5s cubic-bezier(.36,.07,.19,.97) both;
            }
            .card-emerge {
                animation: emerge 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
            }
            @keyframes vibrate {
                10%, 90% { transform: translate3d(-1px, 0, 0); }
                20%, 80% { transform: translate3d(2px, 0, 0); }
                30%, 50%, 70% { transform: translate3d(-3px, 0, 0); }
                40%, 60% { transform: translate3d(3px, 0, 0); }
            }
            @keyframes emerge {
                0% { 
                    transform: translateY(100%);
                    opacity: 0;
                }
                100% { 
                    transform: translateY(0);
                    opacity: 1;
                }
            }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4 font-sans">
    <div class="max-w-md w-full">
        <!-- 红包容器 -->
        <div id="redPacket" class="relative w-64 h-80 mx-auto transition-all duration-500">
            <!-- 红包顶部 -->
            <div id="packetTop" class="packet-top absolute w-full h-3/5 bg-redpacket rounded-t-3xl border-2 border-redpacket-dark redpacket-shadow transition-all duration-1000 ease-in-out z-20">
                <div class="absolute top-1/4 left-1/2 transform -translate-x-1/2 w-20 h-4 gold-gradient rounded-full"></div>
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center">
                    <p class="text-redpacket-gold text-lg font-bold">恭喜发财</p>
                    <p class="text-redpacket-gold text-sm mt-1">大吉大利</p>
                </div>
            </div>
            
            <!-- 红包底部 -->
            <div id="packetBottom" class="absolute bottom-0 w-full h-2/5 bg-redpacket rounded-b-3xl border-2 border-redpacket-dark redpacket-shadow pt-6 z-10">
                <!-- 开启按钮 -->
                <button id="openButton" class="block mx-auto px-6 py-2 bg-redpacket-gold text-redpacket-dark rounded-full font-bold text-sm shadow-lg hover:bg-redpacket-goldDark transform hover:scale-105 transition-all duration-300">
                    开启红包
                </button>
                
                <!-- 底部装饰 -->
                <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 w-32 h-2 bg-redpacket-dark rounded-full"></div>
            </div>
            
            <!-- 红包内的内容 (初始隐藏在红包底部) -->
            <div id="packetContent" class="absolute inset-0 bg-white rounded-3xl flex flex-col items-center justify-center p-6 opacity-0 pointer-events-none z-30">
                <div class="text-center mb-6">
                    <i class="fa fa-file-pdf-o text-redpacket text-5xl mb-4"></i>
                    <h3 class="text-gray-800 font-bold text-lg">梁思林_在线教育证明.pdf</h3>
                    <p class="text-gray-500 text-sm mt-2">点击下方按钮下载文件</p>
                </div>
                
                <a href="./梁思林_在线教育证明.pdf" download="梁思林_在线教育证明.pdf" 
                   class="flex items-center justify-center gap-2 bg-redpacket text-white px-6 py-3 rounded-full font-medium hover:bg-redpacket-dark transform hover:scale-105 transition-all duration-300 w-full max-w-xs">
                    <i class="fa fa-download"></i>
                    <span>下载文件</span>
                </a>
            </div>
        </div>
        
        <!-- 提示信息 -->
        <p class="text-center text-gray-500 text-sm mt-8">
            提示：点击"开启红包"按钮领取文件
        </p>
    </div>

    <script>
        // 文件路径配置 - 可以在这里修改文件路径
        const FILE_PATH = './梁思林_在线教育证明.pdf';
        const FILE_NAME = '梁思林_在线教育证明.pdf';
        
        // 获取DOM元素
        const openButton = document.getElementById('openButton');
        const packetTop = document.getElementById('packetTop');
        const packetContent = document.getElementById('packetContent');
        const redPacket = document.getElementById('redPacket');
        const downloadLink = document.querySelector('#packetContent a');
        const fileNameDisplay = document.querySelector('#packetContent h3');
        
        // 设置文件路径和名称
        downloadLink.href = FILE_PATH;
        downloadLink.download = FILE_NAME;
        fileNameDisplay.textContent = FILE_NAME;
        
        // 点击开启按钮
        openButton.addEventListener('click', function() {
            // 1. 震动效果 (需要用户交互才能触发)
            if (navigator.vibrate) {
                navigator.vibrate([200, 100, 200, 100, 200]); // 震动模式
            } else {
                // 不支持震动API时使用CSS动画模拟
                redPacket.classList.add('vibrate');
                setTimeout(() => {
                    redPacket.classList.remove('vibrate');
                }, 600);
            }
            
            // 2. 禁用按钮防止重复点击
            openButton.disabled = true;
            openButton.classList.add('opacity-50', 'cursor-not-allowed');
            
            // 3. 红包打开动画
            setTimeout(() => {
                packetTop.classList.add('packet-open');
                
                // 4. 卡片从红包中伸出动画
                setTimeout(() => {
                    packetContent.classList.remove('pointer-events-none');
                    packetContent.classList.add('card-emerge');
                }, 500);
            }, 700); // 等待震动结束后再打开红包
        });
        
        // 适配移动端触摸效果
        openButton.addEventListener('touchstart', function(e) {
            this.classList.add('scale-95');
        });
        
        openButton.addEventListener('touchend', function(e) {
            this.classList.remove('scale-95');
        });
    </script>
</body>
</html>
